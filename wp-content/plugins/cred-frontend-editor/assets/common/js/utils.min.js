(function(l,h,k){function o(a){var b;(a=a.attr("id"))&&a.charAt(0)=="#"&&(a=a.substring(1));if(l.tinyMCE&&a&&null!=(b=l.tinyMCE.get(a))&&!1==b.isHidden())return b;return!1}function m(a){var b=a[0].nextSibling;if(b&&a.is("textarea")&&b.CodeMirror&&a[0]==b.CodeMirror.getTextArea())return b.CodeMirror;return!1}function n(a,b,c){var d=a,e=o(d);if(a=m(d))a.focus(),a.somethingSelected()||(e=a.getCursor(!0),a.setSelection(e,e)),typeof c!="undefined"&&c?a.replaceSelection(b+a.getSelection()+c):a.replaceSelection(b);
else if(e)e.focus(),typeof c!="undefined"&&c?e.execCommand("mceReplaceContent",!1,b+e.selection.getContent({format:"raw"})+c):e.execCommand("mceInsertContent",!1,b);else if(a=d[0],a.focus(),document.selection)f=document.selection.createRange(),f.text=typeof c!="undefined"&&c?b+f.text+c:b;else if(a.selectionStart!=null&&a.selectionStart!=k){var e=parseInt(a.selectionStart),i=parseInt(a.selectionEnd);if(typeof c!="undefined"&&c){var f=a.value.substring(e,i);a.value=a.value.substring(0,e)+b+f+c+a.value.substring(i,
a.value.length)}else a.value=a.value.substring(0,e)+b+a.value.substring(i,a.value.length)}else a.value+=typeof c!="undefined"&&c?b+c:b;d.trigger("paste")}function p(a,b,c){if(b){var c=c||50,d=h(a);d.length?b.call(d):c>0&&setTimeout(function(){p(a,b,c-1)},60)}}function q(a,b,c,d){if("object"!==typeof userSettings)return!1;var e=a+"-time-"+userSettings.uid,a=a+"-"+userSettings.uid,i=j.getHash(a)||{},f=userSettings.url,g=b.toString().replace(/[^A-Za-z0-9_]/,""),c=c.toString().replace(/[^A-Za-z0-9_]/,
"");d?delete i[g]:i[g]=c;j.setHash(a,i,31536E3,f);j.set(e,userSettings.time,31536E3,f);return b}if(!l.cred_utils){var r=0,g={},j={each:function(a,b,c){var d,e;if(!a)return 0;c=c||a;if(typeof a.length!="undefined"){d=0;for(e=a.length;d<e;d++)if(b.call(c,a[d],d,a)===!1)return 0}else for(d in a)if(a.hasOwnProperty(d)&&b.call(c,a[d],d,a)===!1)return 0;return 1},getHash:function(a){var a=j.get(a),b;a&&j.each(a.split("&"),function(a){a=a.split("=");b=b||{};b[a[0]]=a[1]});return b},setHash:function(a,b,
c,d,e,i){var f="";j.each(b,function(a,b){f+=(!f?"":"&")+b+"="+a});j.set(a,f,c,d,e,i)},get:function(a){var b=document.cookie,c=a+"=",d;if(b){d=b.indexOf("; "+c);if(d==-1){if(d=b.indexOf(c),d!=0)return null}else d+=2;a=b.indexOf(";",d);if(a==-1)a=b.length;return decodeURIComponent(b.substring(d+c.length,a))}},set:function(a,b,c,d,e,i){var f=new Date;typeof c=="object"&&c.toGMTString?c=c.toGMTString():parseInt(c,10)?(f.setTime(f.getTime()+parseInt(c,10)*1E3),c=f.toGMTString()):c="";document.cookie=a+
"="+encodeURIComponent(b)+(c?"; expires="+c:"")+(d?"; path="+d:"")+(e?"; domain="+e:"")+(i?"; secure":"")},remove:function(a,b){j.set(a,"",-1E3,b)}};l.cred_utils={stripslashes:function(a){return(a+"").replace(/\\(.?)/g,function(a,c){switch(c){case "\\":return"\\";case "0":return"\0";case "":return"";default:return c}})},isNumber:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},doDelayed:function(a,b){a&&(b?a():setTimeout(function(){a()},50))},swapEl:function(a,b){var c={position:"absolute",visibility:"hidden",
display:"block"},d=a.parents().add(a).not(":visible"),e=[];d.each(function(){var a={},b;for(b in c)a[b]=this.style[b],this.style[b]=c[b];e.push(a)});b&&b.call(a);d.each(function(a){var a=e[a],b;for(b in c)this.style[b]=a[b]})},waitUntilElement:p,dispatch:function(a){var b=null;if(g[a]&&g[a].length)for(var c=Array.prototype.slice.call(arguments,1),d=0;d<g[a].length;d++)b=g[a][d].apply(this,c);return b},attach:function(a,b,c){if(b===k)return!1;c===k&&(c=!0);for(var a=a.split(/\s+/),d=0,e=a.length;d<
e;d++){if(!g[a[d]]||!g[a[d]].length)g[a[d]]=[];c&&h.inArray(b,g[a[d]])>-1||g[a[d]].push(b)}return!0},detach:function(a,b){if(!g[a])return!1;if(b===k)return g[a]=[],!1;var c=h.inArray(b,g[a]);if(c>-1)return g[a].splice(c,1),!0},route:function(a,b,c,d,e){k===e&&(e=!0);if(c&&""!=c&&e)for(var g=c.replace(/^\//,"").replace("?","&").split("/"),c="",f=0;f<g.length;f++)0==f?c+="?action="+a+"_ajax_"+g[f]:1==f&&(c+="&_do_="+g[f]);if(c&&""!=c&&d)for(var h in d)d.hasOwnProperty(h)&&d[h]&&(c+=c.indexOf("?")>-1?
"&"+encodeURIComponent(h)+"="+encodeURIComponent(d[h]):"?"+encodeURIComponent(h)+"="+encodeURIComponent(d[h]));return e?b+c:c},getUserSetting:function(a,b,c){a="object"!==typeof userSettings?{}:j.getHash(a+"-"+userSettings.uid)||{};if(a.hasOwnProperty(b))return a[b];if(typeof c!="undefined")return c;return""},setUserSetting:q,deleteUserSetting:function(a,b){return q(a,b,"",1)},getUserSettingAjax:function(){},setUserSettingAjax:function(){},getId:function(a){"undefined"==typeof a&&(a="id");return a+
"_"+ ++r},addEditorSwitchButton:function(a,b){"undefined"==typeof b&&(b="content");var c=h("#wp-"+b+"-editor-tools"),d=h("#wp-"+b+"-media-buttons"),e=h('<a class="wp-switch-editor">'+a+"</a>");d.length?e.insertBefore(d):e.appendTo(c);return e},isTinyMce:o,isCodeMirror:m,getContent:function(a){a||(a=h("#content"));var b=m(a);if(b)return b.getValue();return a.val()},InsertAtCursor:n,wrapOrPaste:function(a,b){n(h("#content"),a,b)},insert:function(a){n(h("#content"),a)}}}})(window,jQuery);
